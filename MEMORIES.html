<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Drafts</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ===== BASE ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  background: linear-gradient(135deg, #1a001f, #3a0a3d, #8b1e3f, #c77dff);
  background-size: 400% 400%;
  animation: gradientMove 14s ease infinite;
  color: #fff;
  min-height: 100vh;
}

@keyframes gradientMove {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

/* ===== TOP NAV ===== */
.navbar {
  position: sticky;
  top: 0;
  z-index: 1000;
  padding: 15px 30px;
  background: rgba(20, 0, 40, 0.7);
  backdrop-filter: blur(18px);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 10px 30px rgba(140, 80, 255, 0.4);
}
.navbar .brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 700;
  color: #f4dfff;
  margin-left: 70px;
}
.navbar img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
}
.nav-links {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}
.nav-links a {
  text-decoration: none;
  color: #e9d8ff;
  padding: 8px 14px;
  border-radius: 20px;
  transition: 0.3s ease;
  font-weight: 500;
}
.nav-links a:hover {
  background: linear-gradient(90deg, #a855f7, #7e22ce);
  box-shadow: 0 0 15px rgba(168,85,247,0.8);
  color: #fff;
}
.nav-links a.active {
  background: linear-gradient(90deg, #c77dff, #a855f7);
  box-shadow: 0 0 18px rgba(200,140,255,0.9);
  color: #fff;
}
/* ===== HAMBURGER MENU ===== */
.hamburger {
  position: fixed;
  top: 20px;
  left: 20px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
  z-index: 1001;
}
.hamburger div {
  width: 28px;
  height: 3px;
  background: #fff;
  border-radius: 3px;
  transition: 0.3s ease;
}

/* ===== SIDE NAV ===== */
.side-nav {
  position: fixed;
  top: 0;
  left: -250px;
  height: 100%;
  width: 250px;
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(18px);
  padding: 40px 20px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  box-shadow: 0 0 40px rgba(180, 110, 255, 0.4);
  transition: 0.4s ease;
  z-index: 1000;
}
.side-nav a {
  text-decoration: none;
  color: #f4dfff;
  font-weight: 600;
  padding: 10px 15px;
  border-radius: 20px;
  transition: 0.3s ease;
}
.side-nav a:hover {
  background: linear-gradient(90deg, #c77dff, #a855f7);
  box-shadow: 0 0 20px rgba(200, 140, 255, 0.9);
}
.close-btn {
  align-self: flex-end;
  font-size: 2rem;
  cursor: pointer;
  color: #fff;
}
.side-nav.open { left: 0; }

/* ===== MEMORIES SECTION ===== */
.memories-section {
  max-width: 1200px;
  margin: 100px auto;
  padding: 0 20px;
  text-align: center;
}
/* ===== DASHBOARD ===== */
.dashboard {
  max-width: 1300px;
  margin: 80px auto;
  padding: 70px 25px;
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  border-radius: 30px;
  box-shadow: 0 0 40px rgba(180, 110, 255, 0.4);
  text-align: center;
flex: 1;
}
.dashboard h1 {
  font-size: clamp(32px, 5vw, 45px);
  background: linear-gradient(90deg, #e0b3ff, #fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 25px rgba(220, 170, 255, 0.8);
  margin-bottom: 40px;
}
/* ===== NAVBAR ANIMATION ===== */
.navbar {
  position: sticky;
  top: 0;
  z-index: 1000;
  padding: 15px 30px;
  background: rgba(20, 0, 40, 0.7);
  backdrop-filter: blur(18px);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 10px 30px rgba(140, 80, 255, 0.4);
  animation: navbarGlow 3s ease-in-out infinite;
}

/* Glow pulse effect */
@keyframes navbarGlow {
  0%, 100% { box-shadow: 0 10px 30px rgba(140, 80, 255, 0.4); }
  50% { box-shadow: 0 10px 40px rgba(200, 120, 255, 0.7); }
}

/* Brand slide-in */
.navbar .brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 700;
  color: #f4dfff;
  margin-left: 70px;
  animation: brandSlide 1s ease forwards;
}
@keyframes brandSlide {
  0% { transform: translateX(-100px); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

/* Links fade-in */
.nav-links a {
  text-decoration: none;
  color: #e9d8ff;
  padding: 8px 14px;
  border-radius: 20px;
  transition: 0.3s ease;
  font-weight: 500;
  opacity: 0;
  animation: linkFadeIn 1s forwards;
}
.nav-links a:nth-child(1) { animation-delay: 0.3s; }
.nav-links a:nth-child(2) { animation-delay: 0.45s; }
.nav-links a:nth-child(3) { animation-delay: 0.6s; }
.nav-links a:nth-child(4) { animation-delay: 0.75s; }
.nav-links a:nth-child(5) { animation-delay: 0.9s; }
.nav-links a:nth-child(6) { animation-delay: 1.05s; }
.nav-links a:nth-child(7) { animation-delay: 1.2s; }
.nav-links a:nth-child(8) { animation-delay: 1.35s; }
.nav-links a:nth-child(9) { animation-delay: 1.5s; }
.nav-links a:nth-child(10) { animation-delay: 1.65s; }
.nav-links a:nth-child(11) { animation-delay: 1.8s; }

@keyframes linkFadeIn {
  0% { opacity: 0; transform: translateY(-15px); }
  100% { opacity: 1; transform: translateY(0); }
}

.memories-section h1 {
  font-size: clamp(32px, 5vw, 45px);
  background: linear-gradient(90deg, #e0b3ff, #fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 25px rgba(220, 170, 255, 0.8);
  margin-bottom: 60px;
}

.memory-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 50px;
}

.memory-card {
  position: relative;
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(15px);
  border-radius: 25px;
  padding: 15px;
  box-shadow: 0 0 40px rgba(189,120,255,0.4);
  text-align: center;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.memory-card:hover {
  transform: translateY(-10px) scale(1.05);
  box-shadow: 0 0 50px rgba(207,147,255,0.8);
}

.memory-card img,
.memory-card video {
  width: 100%;
  height: 230px;
  object-fit: cover;
  border-radius: 20px;
  box-shadow: 0 0 20px rgba(200,140,255,0.3);
}

.memory-card input.name-input {
  width: 100%;
  text-align: center;
  font-size: 16px;
  border: none;
  border-bottom: 1px dashed #fff;
  background: none;
  color: #fff;
  margin-top: 10px;
  outline: none;
}

.delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #a855f7;
  color: #fff;
  border: none;
  border-radius: 50%;
  padding: 5px 8px;
  cursor: pointer;
  font-size: 14px;
  transition: 0.3s;
}

.delete-btn:hover {
  background: #7e22ce;
}

/* ===== ADD MEMORY BOX ===== */
.add-memory {
  width: 100%;
  height: 230px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px dashed #c77dff;
  border-radius: 20px;
  cursor: pointer;
  font-size: 48px;
  font-weight: bold;
  transition: 0.3s;
  color: #fff;
  position: relative;
}

.add-memory span {
  font-size: 18px;
  display: block;
  margin-top: 10px;
}

.add-memory:hover {
  background: rgba(200,140,255,0.2);
}

.add-memory input[type="file"] {
  display: none;
}

/* ===== SPARKLE ===== */
.sparkle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: white;
  pointer-events: none;
  opacity: 0.8;
  box-shadow: 0 0 8px 3px rgba(255,255,255,0.8);
  animation: sparkleAnim 0.8s ease-out forwards;
}
@keyframes sparkleAnim {
  0% { transform: scale(0.5); opacity:1; }
  100% { transform: scale(1.5); opacity:0; }
}


/* ===== FOOTER ===== */
footer {
  text-align: center;
  padding: 25px;
  font-size: 14px;
  background: rgba(30,0,60,0.8);
  box-shadow: 0 -5px 15px rgba(200,140,255,0.5);
  border-radius: 20px;
}
</style>
</head>
<body>

<!-- HAMBURGER -->
<div class="hamburger" id="hamburger">
  <div></div>
  <div></div>
  <div></div>
</div>

<!-- SIDE NAV -->
<nav class="side-nav" id="sideNav">
  <span class="close-btn" id="closeNav">&times;</span>
  <a href="about.html">About Us</a>
  <a href="story.html">Our Story</a>
  <a href="contact.html">Contact Us</a>
</nav>

<!-- NAVBAR -->
<div class="navbar">
  <div class="brand"><img src="C:\Users\Jenell\Downloads\rrrrrr.jpg" alt="BSIS"> BSIS E</div>
  <div class="nav-links">
    <a href="HOME2.html">Home</a>
    <a href="OFFICERS.html">Officers</a>
    <a href="MASTERLIST.html">Masterlist</a>
    <a href="achievements.html">Achievements</a>
    <a href="BDAY.html">Birthdays</a>
    <a href="EVENTS.html">Events</a>
    <a href="TODO.html">To Do's</a>
    <a href="FEEDBACKS.html">Comments</a>
    <a href="SCHED.html">Schedule</a>
    <a href="PROF.html">Professors</a>
    <a href="MEMORIES.html" class="active">Memories</a>
  </div>
</div>

<!-- MEMORIES SECTION -->
<section class="memories-section">
  <h1>BSIS 1E Memories</h1>
  <div class="memory-container" id="memoryContainer">
    <div class="memory-card add-memory">
      <label style="width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;">
        <strong>+</strong>
        <span>Add Memory</span>
        <input type="file" accept="image/*,video/*">
      </label>
    </div>
  </div>
</section>

<footer>Â© 2025 Bachelor of Science in Information System | Designed by Group 2</footer>


<script>
// ===== HAMBURGER MENU =====
const hamburger = document.getElementById("hamburger");
const sideNav = document.getElementById("sideNav");
const closeNav = document.getElementById("closeNav");

hamburger.addEventListener("click", () => sideNav.classList.add("open"));
closeNav.addEventListener("click", () => sideNav.classList.remove("open"));
document.addEventListener("click", (e) => {
  if (!sideNav.contains(e.target) && !hamburger.contains(e.target)) {
    sideNav.classList.remove("open");
  }
});

// ===== SPARKLE EFFECT =====
document.addEventListener('mousemove', e => {
  const sparkle = document.createElement('div');
  sparkle.className = 'sparkle';
  sparkle.style.left = e.pageX + 'px';
  sparkle.style.top = e.pageY + 'px';
  document.body.appendChild(sparkle);
  setTimeout(() => sparkle.remove(), 800);
});

// ===== MEMORIES FUNCTIONALITY USING INDEXEDDB =====
let db;
const DB_NAME = 'bsisMemoriesDB';
const STORE_NAME = 'memories';
const memoryContainer = document.getElementById('memoryContainer');

// Initialize IndexedDB
const request = indexedDB.open(DB_NAME, 1);

request.onupgradeneeded = function(event) {
  db = event.target.result;
  db.createObjectStore(STORE_NAME, { keyPath: 'id' });
};

request.onsuccess = function(event) {
  db = event.target.result;
  loadMemories();
};

request.onerror = function(event) {
  console.error("IndexedDB error:", event.target.errorCode);
};

// Load memories from IndexedDB
function loadMemories() {
  const transaction = db.transaction(STORE_NAME, 'readonly');
  const store = transaction.objectStore(STORE_NAME);
  const getAll = store.getAll();

  getAll.onsuccess = function() {
    getAll.result.forEach(mem => renderMemory(mem));
  };
}

// Add memory
function addMemory(event) {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function(e) {
    const type = file.type.startsWith('video') ? 'video' : 'image';
    const memory = {id: Date.now(), type, data: e.target.result, title: ''};

    const transaction = db.transaction(STORE_NAME, 'readwrite');
    const store = transaction.objectStore(STORE_NAME);
    store.add(memory);

    renderMemory(memory);
  };
  reader.readAsDataURL(file);
  event.target.value = '';
}

// Render a memory card
function renderMemory(mem) {
  const div = document.createElement('div');
  div.className = 'memory-card';
  div.dataset.id = mem.id;

  if (mem.type === 'video') {
    const video = document.createElement('video');
    video.src = mem.data;
    video.controls = true;
    video.style.width = '100%';
    video.style.height = '230px';
    video.style.borderRadius = '20px';
    div.appendChild(video);
  } else {
    const img = document.createElement('img');
    img.src = mem.data;
    div.appendChild(img);
  }

  const input = document.createElement('input');
  input.className = 'name-input';
  input.placeholder = 'Enter title';
  input.value = mem.title;
  input.addEventListener('input', (e) => updateTitle(mem.id, e.target.value));
  div.appendChild(input);

  const btn = document.createElement('button');
  btn.className = 'delete-btn';
  btn.innerHTML = '&times;';
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    deleteMemory(mem.id, div);
  });
  div.appendChild(btn);

  const addBox = document.querySelector('.add-memory');
  memoryContainer.insertBefore(div, addBox);
}

// Update title in IndexedDB
function updateTitle(id, val) {
  const transaction = db.transaction(STORE_NAME, 'readwrite');
  const store = transaction.objectStore(STORE_NAME);
  const getRequest = store.get(id);

  getRequest.onsuccess = function() {
    const mem = getRequest.result;
    mem.title = val;
    store.put(mem);
  };
}

// Delete memory from IndexedDB
function deleteMemory(id, element) {
  const transaction = db.transaction(STORE_NAME, 'readwrite');
  const store = transaction.objectStore(STORE_NAME);
  store.delete(id);
  element.remove();
}

// ===== CONNECT ADD MEMORY INPUT =====
document.addEventListener('DOMContentLoaded', () => {
  const addBox = document.querySelector('.add-memory');
  const fileInput = addBox.querySelector('input[type="file"]');
  fileInput.addEventListener('change', addMemory);
});
</script>
</body>
</html>
